{"version":3,"file":"js/61.d5d17e2b.js","mappings":"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","sources":["webpack://taiwan-tour/./src/apis/activityFun.js","webpack://taiwan-tour/./src/views/IndividualActivity.vue","webpack://taiwan-tour/./src/views/IndividualActivity.vue?4674"],"sourcesContent":["import { apiHelper } from \"@/utils/helpers\";\r\nexport default {\r\n  getActivity({ area, select, filter, orderby, top, skip }) {\r\n    return apiHelper.get(\r\n      `/Activity/${area}?${select}${filter}${orderby}${top}${skip}%24format=JSON`\r\n    );\r\n  },\r\n  getAllActivity({ filter, top, skip }) {\r\n    return apiHelper.get(`/Activity?${filter}${top}${skip}%24format=JSON`);\r\n  },\r\n};\r\n","<template>\r\n  <div class=\"container\">\r\n    <Transition name=\"info\">\r\n      <div v-if=\"isLoading\"></div>\r\n      <InfoSection v-else :initial_info=\"activity\" />\r\n    </Transition>\r\n    <Transition name=\"more-info\">\r\n      <div v-if=\"isMoreLoading\"></div>\r\n      <div v-else>\r\n        <MoreSection :more_spot=\"moreActivity\">\r\n          <template v-slot:moretitle>\r\n            <h2>更多活動 :</h2>\r\n          </template>\r\n        </MoreSection>\r\n      </div>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InfoSection from \"../components/InfoSection.vue\";\r\nimport MoreSection from \"./../components/MoreSection.vue\";\r\nimport activityAPI from \"./../apis/activityFun\";\r\nimport { ref, onBeforeMount } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nexport default {\r\n  components: {\r\n    InfoSection,\r\n    MoreSection,\r\n  },\r\n  setup() {\r\n    const top = ref(1);\r\n    const skip = ref(0);\r\n    const activity = ref({});\r\n    const moreActivity = ref([]);\r\n    const isLoading = ref(false);\r\n    const isMoreLoading = ref(false);\r\n    const route = useRoute();\r\n    const routeId = ref(route.params.id);\r\n    const fetchOneHostel = async () => {\r\n      isLoading.value = true;\r\n      const { data, statusText } = await activityAPI.getAllActivity({\r\n        filter: `${encodeURIComponent(\"$\")}filter=${encodeURIComponent(\r\n          `contains(ActivityID, '${routeId.value}')`\r\n        )}&`,\r\n        top: `${encodeURIComponent(\"$\")}top=${top.value}&`,\r\n        skip: `${encodeURIComponent(\"$\")}skip=${skip.value}&`,\r\n      });\r\n      if (statusText === \"OK\") {\r\n        console.log(\"串接成功!!!\");\r\n      }\r\n      activity.value = {\r\n        id: data[0].ActivityID,\r\n        address: data[0].Address ? data[0].Address : \"\",\r\n        class1: data[0].Class1 ? data[0].Class1 : \"\",\r\n        class2: data[0].Class2 ? data[0].Class2 : \"\",\r\n        class3: data[0].Class3 ? data[0].Class3 : \"\",\r\n        description: data[0].Description,\r\n        openTime: data[0].Cycle,\r\n        phone: data[0].Phone,\r\n        picture: data[0].Picture ? data[0].Picture : {},\r\n        position: data[0].Position,\r\n        name: data[0].ActivityName,\r\n        location: data[0].Location ? data[0].Location : \"\",\r\n        organizer: data[0].Organizer ? data[0].Organizer : \"\",\r\n        start: data[0].StartTime ? data[0].StartTime : \"\",\r\n        end: data[0].EndTime ? data[0].EndTime : \"\",\r\n        website: data[0].WebsiteUrl ? data[0].WebsiteUrl : \"\",\r\n      };\r\n      isLoading.value = false;\r\n    };\r\n    const fetchMoreActivity = async () => {\r\n      isMoreLoading.value = true;\r\n      const { data, statusText } = await activityAPI.getAllActivity({\r\n        filter: \"\",\r\n        top: `${encodeURIComponent(\"$\")}top=${10}&`,\r\n        skip: `${encodeURIComponent(\"$\")}skip=${skip.value}&`,\r\n      });\r\n      if (statusText === \"OK\") {\r\n        console.log(\"串接成功!!!\");\r\n      }\r\n      moreActivity.value = data.map((spot) => {\r\n        return {\r\n          id: spot.ActivityID,\r\n          address: spot.Address ? spot.Address : \"\",\r\n          class1: spot.Class1 ? spot.Class1 : \"\",\r\n          class2: spot.Class2 ? spot.Class2 : \"\",\r\n          class3: spot.Class3 ? spot.Class3 : \"\",\r\n          description: spot.Description,\r\n          openTime: spot.OpenTime,\r\n          phone: spot.Phone,\r\n          picture: spot.Picture ? spot.Picture : {},\r\n          position: spot.Position,\r\n          name: spot.ActivityName,\r\n        };\r\n      });\r\n      moreActivity.value = moreActivity.value.filter(\r\n        (spot) => spot.id !== routeId.value\r\n      );\r\n      isMoreLoading.value = false;\r\n    };\r\n    onBeforeMount(fetchOneHostel);\r\n    onBeforeMount(fetchMoreActivity);\r\n    return {\r\n      top,\r\n      skip,\r\n      activity,\r\n      isLoading,\r\n      moreActivity,\r\n      isMoreLoading,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./IndividualActivity.vue?vue&type=template&id=a3f5f616\"\nimport script from \"./IndividualActivity.vue?vue&type=script&lang=js\"\nexport * from \"./IndividualActivity.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\ac-project\\\\taiwan-tour\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getActivity","area","select","filter","orderby","top","skip","apiHelper","getAllActivity","class","_createElementVNode","_createElementBlock","_createVNode","_Transition","name","$setup","_hoisted_2","_createBlock","_component_InfoSection","initial_info","_hoisted_3","_hoisted_4","_component_MoreSection","more_spot","moretitle","_hoisted_5","components","InfoSection","MoreSection","setup","ref","activity","moreActivity","isLoading","isMoreLoading","route","useRoute","routeId","params","id","fetchOneHostel","async","value","data","statusText","activityAPI","encodeURIComponent","console","log","ActivityID","address","Address","class1","Class1","class2","Class2","class3","Class3","description","Description","openTime","Cycle","phone","Phone","picture","Picture","position","Position","ActivityName","location","Location","organizer","Organizer","start","StartTime","end","EndTime","website","WebsiteUrl","fetchMoreActivity","map","spot","OpenTime","onBeforeMount","__exports__","render"],"sourceRoot":""}