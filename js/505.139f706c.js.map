{"version":3,"file":"js/505.139f706c.js","mappings":"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","sources":["webpack://taiwan-tour/./src/apis/hotelStay.js","webpack://taiwan-tour/./src/views/IndividualHostel.vue","webpack://taiwan-tour/./src/views/IndividualHostel.vue?1112"],"sourcesContent":["import { apiHelper } from \"@/utils/helpers\";\r\nexport default{\r\n  getHotel({area,select,filter,top,skip}){\r\n    return apiHelper.get(`/Hotel/${area}?${select}${filter}${top}${skip}%24format=JSON`)\r\n  },\r\n  getAllHotel({filter,top,skip}){\r\n    return apiHelper.get(`/Hotel?${filter}${top}${skip}%24format=JSON`)\r\n  }\r\n}","<template>\r\n  <div class=\"container\">\r\n    <Transition name=\"info\">\r\n      <div v-if=\"isLoading\"></div>\r\n      <InfoSection v-else :initial_info=\"hostel\" />\r\n    </Transition>\r\n    <Transition name=\"more-info\">\r\n      <div v-if=\"isMoreLoading\"></div>\r\n      <div v-else>\r\n        <MoreSection :more_spot=\"moreHostel\">\r\n          <template v-slot:moretitle>\r\n            <h2>更多旅館</h2>\r\n          </template>\r\n        </MoreSection>\r\n      </div>\r\n    </Transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport InfoSection from \"../components/InfoSection.vue\";\r\nimport MoreSection from \"./../components/MoreSection.vue\";\r\nimport hotelAPI from \"./../apis/hotelStay\";\r\nimport { ref, onBeforeMount } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nexport default {\r\n  components: {\r\n    InfoSection,\r\n    MoreSection,\r\n  },\r\n  setup() {\r\n    const top = ref(1);\r\n    const skip = ref(0);\r\n    const hostel = ref({});\r\n    const moreHostel = ref([]);\r\n    const isLoading = ref(false);\r\n    const isMoreLoading = ref(false);\r\n    const route = useRoute();\r\n    const routeId = ref(route.params.id);\r\n    const fetchOneHostel = async () => {\r\n      isLoading.value = true;\r\n      const { data, statusText } = await hotelAPI.getAllHotel({\r\n        filter: `${encodeURIComponent(\"$\")}filter=${encodeURIComponent(\r\n          `contains(HotelID, '${routeId.value}')`\r\n        )}&`,\r\n        top: `${encodeURIComponent(\"$\")}top=${top.value}&`,\r\n        skip: `${encodeURIComponent(\"$\")}skip=${skip.value}&`,\r\n      });\r\n      if (statusText === \"OK\") {\r\n        console.log(\"串接成功!!!\");\r\n      }\r\n      hostel.value = {\r\n        id: data[0].HotelID,\r\n        address: data[0].Address ? data[0].Address : \"\",\r\n        class1: data[0].Class ? data[0].Class : \"\",\r\n        class2: \"\",\r\n        class3: \"\",\r\n        description: data[0].Description,\r\n        openTime: \"\",\r\n        phone: data[0].Phone,\r\n        picture: data[0].Picture ? data[0].Picture : {},\r\n        position: data[0].Position,\r\n        name: data[0].HotelName,\r\n        spec: data[0].Spec ? data[0].Spec : \"\",\r\n        service: data[0].ServiceInfo ? data[0].ServiceInfo : \"\",\r\n        website: data[0].WebsiteUrl ? data[0].WebsiteUrl : \"\",\r\n      };\r\n      isLoading.value = false;\r\n    };\r\n    const fetchMoreHotel = async () => {\r\n      isMoreLoading.value = true;\r\n      const { data, statusText } = await hotelAPI.getAllHotel({\r\n        filter: \"\",\r\n        top: `${encodeURIComponent(\"$\")}top=${10}&`,\r\n        skip: `${encodeURIComponent(\"$\")}skip=${skip.value}&`,\r\n      });\r\n      if (statusText === \"OK\") {\r\n        console.log(\"串接成功!!!\");\r\n      }\r\n      moreHostel.value = data.map((spot) => {\r\n        return {\r\n          id: spot.HotelID,\r\n          address: spot.Address ? spot.Address : \"\",\r\n          class1: spot.Class ? spot.Class : \"\",\r\n          class2: \"\",\r\n          class3: \"\",\r\n          description: spot.Description,\r\n          openTime: spot.OpenTime,\r\n          phone: spot.Phone,\r\n          picture: spot.Picture ? spot.Picture : {},\r\n          position: spot.Position,\r\n          name: spot.HotelName,\r\n        };\r\n      });\r\n      moreHostel.value = moreHostel.value.filter(\r\n        (spot) => spot.id !== routeId.value\r\n      );\r\n      isMoreLoading.value = false;\r\n    };\r\n    onBeforeMount(fetchOneHostel);\r\n    onBeforeMount(fetchMoreHotel);\r\n    return {\r\n      top,\r\n      skip,\r\n      hostel,\r\n      isLoading,\r\n      moreHostel,\r\n      isMoreLoading,\r\n    };\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./IndividualHostel.vue?vue&type=template&id=9b50dbd0\"\nimport script from \"./IndividualHostel.vue?vue&type=script&lang=js\"\nexport * from \"./IndividualHostel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\ac-project\\\\taiwan-tour\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["getHotel","area","select","filter","top","skip","apiHelper","getAllHotel","class","_createElementVNode","_createElementBlock","_createVNode","_Transition","name","$setup","_hoisted_2","_createBlock","_component_InfoSection","initial_info","_hoisted_3","_hoisted_4","_component_MoreSection","more_spot","moretitle","_hoisted_5","components","InfoSection","MoreSection","setup","ref","hostel","moreHostel","isLoading","isMoreLoading","route","useRoute","routeId","params","id","fetchOneHostel","async","value","data","statusText","hotelAPI","encodeURIComponent","console","log","HotelID","address","Address","class1","Class","class2","class3","description","Description","openTime","phone","Phone","picture","Picture","position","Position","HotelName","spec","Spec","service","ServiceInfo","website","WebsiteUrl","fetchMoreHotel","map","spot","OpenTime","onBeforeMount","__exports__","render"],"sourceRoot":""}